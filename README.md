# æ™ºèƒ½è¿ç»´æ™ºèƒ½ä½“ (Intelligent Operations Agent)

åŸºäº LangGraph å’Œ DSPy æ¡†æ¶æ„å»ºçš„æ™ºèƒ½è¿ç»´ç³»ç»Ÿï¼Œå®ç°æ™ºèƒ½åŒ–çš„æ•…éšœè¯Šæ–­ã€è‡ªåŠ¨åŒ–è¿ç»´å’ŒæŒç»­å­¦ä¹ ä¼˜åŒ–ã€‚

## ğŸŒŸ é¡¹ç›®ç‰¹æ€§

### æ ¸å¿ƒèƒ½åŠ›
- **ğŸ”„ å·¥ä½œæµç¼–æ’**: åŸºäº LangGraph çš„æ™ºèƒ½è¿ç»´å·¥ä½œæµ
- **ğŸ§  æ¨¡å—åŒ–æ¨ç†**: ä½¿ç”¨ DSPy ä¼˜åŒ–æ¨ç†å’Œå†³ç­–è¿‡ç¨‹
- **ğŸ¤– å¤šæ™ºèƒ½ä½“åä½œ**: æ”¯æŒä¸“ä¸šåŒ–æ™ºèƒ½ä½“çš„ååŒå·¥ä½œ
- **ğŸ“Š æ™ºèƒ½è¯Šæ–­**: è‡ªåŠ¨åŒ–æ ¹å› åˆ†æå’Œå½±å“è¯„ä¼°
- **ğŸ“‹ è¡ŒåŠ¨è§„åˆ’**: æ™ºèƒ½ç”Ÿæˆä¿®å¤ç­–ç•¥å’Œæ‰§è¡Œè®¡åˆ’
- **ğŸ“ˆ æŒç»­å­¦ä¹ **: ä»è¿ç»´ç»éªŒä¸­å­¦ä¹ å’Œä¼˜åŒ–
- **ğŸ“„ æŠ¥å‘Šç”Ÿæˆ**: è‡ªåŠ¨åŒ–ç”Ÿæˆè¿ç»´æŠ¥å‘Šå’ŒçŸ¥è¯†ç§¯ç´¯

### æŠ€æœ¯æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ™ºèƒ½è¿ç»´æ™ºèƒ½ä½“ç³»ç»Ÿ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  LangGraph å·¥ä½œæµç¼–æ’å±‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ç›‘æ§æ•°æ®é‡‡é›†  â†’  å‘Šè­¦å¤„ç†  â†’  æ•…éšœè¯Šæ–­  â†’  è‡ªåŠ¨åŒ–æ‰§è¡Œ       â”‚ â”‚
â”‚  â”‚       â†“           â†“           â†“           â†“                 â”‚ â”‚
â”‚  â”‚  çŠ¶æ€ç®¡ç†    â†’  å†³ç­–èŠ‚ç‚¹   â†’  æ‰§è¡ŒèŠ‚ç‚¹  â†’  åé¦ˆå­¦ä¹           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  DSPy æ¨¡å—åŒ–æ¨ç†å±‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  AlertAnalyzer  â”‚  DiagnosticAgent  â”‚  ActionPlanner        â”‚ â”‚
â”‚  â”‚       â†“              â†“                    â†“                 â”‚ â”‚
â”‚  â”‚  æ¨ç†ä¼˜åŒ–    â”‚   æ ¹å› åˆ†æ        â”‚   ç­–ç•¥ç”Ÿæˆ                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºç¡€è®¾æ–½å±‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ç›‘æ§ç³»ç»Ÿ    â”‚  çŸ¥è¯†åº“        â”‚  æ‰§è¡Œå¼•æ“      â”‚  æ—¥å¿—ç³»ç»Ÿ    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- LangGraph >= 0.2.0
- DSPy >= 2.4.0
- LangChain >= 0.2.0

### å®‰è£…ä¾èµ–
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd intelligent-ops-agent

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### åŸºç¡€ä½¿ç”¨ç¤ºä¾‹
```python
import asyncio
from src.agents.intelligent_ops_agent import IntelligentOpsAgent, AgentConfig
from src.dspy_modules.alert_analyzer import AlertInfo

# åˆ›å»ºæ™ºèƒ½ä½“é…ç½®
config = AgentConfig(
    agent_id="ops_agent_001",
    agent_type="general",
    specialization="system_performance",
    enable_learning=True,
    enable_reporting=True
)

# åˆ›å»ºæ™ºèƒ½ä½“
agent = IntelligentOpsAgent(config)

# åˆ›å»ºå‘Šè­¦ä¿¡æ¯
alert = AlertInfo(
    alert_id="cpu_spike_001",
    timestamp="2024-01-01T12:00:00Z",
    severity="high",
    source="system_monitor",
    message="CPU usage exceeded 90% threshold",
    metrics={"cpu_usage": 0.95},
    tags=["cpu", "performance"]
)

# å¤„ç†å‘Šè­¦
async def main():
    result = await agent.process_alert(alert)
    print(f"å¤„ç†ç»“æœ: {result['status']}")

asyncio.run(main())
```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

### é¡¹ç›®ç»“æ„
```
intelligent-ops-agent/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ dspy_modules/          # DSPy æ¨¡å—åŒ–æ¨ç†ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ alert_analyzer.py     # å‘Šè­¦åˆ†æå™¨
â”‚   â”‚   â”œâ”€â”€ diagnostic_agent.py   # è¯Šæ–­æ™ºèƒ½ä½“
â”‚   â”‚   â”œâ”€â”€ action_planner.py     # è¡ŒåŠ¨è§„åˆ’å™¨
â”‚   â”‚   â””â”€â”€ report_generator.py   # æŠ¥å‘Šç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ langgraph_workflow/    # LangGraph å·¥ä½œæµ
â”‚   â”‚   â”œâ”€â”€ ops_workflow.py       # ä¸»å·¥ä½œæµ
â”‚   â”‚   â”œâ”€â”€ workflow_nodes.py     # å·¥ä½œæµèŠ‚ç‚¹
â”‚   â”‚   â””â”€â”€ state_manager.py      # çŠ¶æ€ç®¡ç†å™¨
â”‚   â””â”€â”€ agents/                # æ™ºèƒ½ä½“å®ç°
â”‚       â””â”€â”€ intelligent_ops_agent.py  # ä¸»æ™ºèƒ½ä½“ç±»
â”œâ”€â”€ examples/                  # ä½¿ç”¨ç¤ºä¾‹
â”‚   â”œâ”€â”€ basic_usage.py            # åŸºç¡€ä½¿ç”¨ç¤ºä¾‹
â”‚   â”œâ”€â”€ multi_agent_scenario.py  # å¤šæ™ºèƒ½ä½“åœºæ™¯
â”‚   â””â”€â”€ complete_demo.py          # å®Œæ•´åŠŸèƒ½æ¼”ç¤º
â”œâ”€â”€ tests/                     # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ docs/                      # æ–‡æ¡£
â”‚   â””â”€â”€ architecture.md           # æ¶æ„è®¾è®¡æ–‡æ¡£
â””â”€â”€ requirements.txt           # ä¾èµ–åˆ—è¡¨
```

### æ ¸å¿ƒç»„ä»¶è¯´æ˜

#### 1. DSPy æ¨¡å—åŒ–æ¨ç†ç»„ä»¶

**AlertAnalyzer (å‘Šè­¦åˆ†æå™¨)**
- å‘Šè­¦ä¿¡æ¯è§£æå’Œåˆ†ç±»
- ç´§æ€¥ç¨‹åº¦è¯„ä¼°
- å‘Šè­¦å…³è”åˆ†æ
- æ ¹å› æç¤ºç”Ÿæˆ

**DiagnosticAgent (è¯Šæ–­æ™ºèƒ½ä½“)**
- æ ¹å› åˆ†æ
- å½±å“èŒƒå›´è¯„ä¼°
- å†å²æ¡ˆä¾‹æ£€ç´¢
- è¯Šæ–­æŠ¥å‘Šç”Ÿæˆ

**ActionPlanner (è¡ŒåŠ¨è§„åˆ’å™¨)**
- ä¿®å¤ç­–ç•¥ç”Ÿæˆ
- é£é™©è¯„ä¼°
- æ‰§è¡Œæ­¥éª¤è§„åˆ’
- å›æ»šè®¡åˆ’åˆ¶å®š

**ReportGenerator (æŠ¥å‘Šç”Ÿæˆå™¨)**
- äº‹ä»¶æŠ¥å‘Šç”Ÿæˆ
- æ€§èƒ½åˆ†ææŠ¥å‘Š
- è¶‹åŠ¿åˆ†æ
- ä¼˜åŒ–å»ºè®®

#### 2. LangGraph å·¥ä½œæµç¼–æ’

**å·¥ä½œæµé˜¶æ®µ**
- `monitoring`: ç›‘æ§æ•°æ®é‡‡é›†
- `alerting`: å‘Šè­¦å¤„ç†
- `diagnosis`: æ•…éšœè¯Šæ–­
- `planning`: è¡ŒåŠ¨è§„åˆ’
- `execution`: è‡ªåŠ¨åŒ–æ‰§è¡Œ
- `reporting`: æŠ¥å‘Šç”Ÿæˆ

**çŠ¶æ€ç®¡ç†**
- å·¥ä½œæµçŠ¶æ€è·Ÿè¸ª
- é”™è¯¯å¤„ç†å’Œé‡è¯•
- çŠ¶æ€æŒä¹…åŒ–
- å†å²è®°å½•ç®¡ç†

#### 3. æ™ºèƒ½ä½“ç³»ç»Ÿ

**å•æ™ºèƒ½ä½“æ¨¡å¼**
- ç‹¬ç«‹å¤„ç†è¿ç»´ä»»åŠ¡
- å®Œæ•´çš„å·¥ä½œæµæ‰§è¡Œ
- è‡ªä¸»å­¦ä¹ å’Œä¼˜åŒ–

**å¤šæ™ºèƒ½ä½“åä½œæ¨¡å¼**
- ä¸“ä¸šåŒ–æ™ºèƒ½ä½“åˆ†å·¥
- åä½œå¤„ç†å¤æ‚é—®é¢˜
- çŸ¥è¯†å…±äº«å’Œæ•´åˆ

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### 1. ç³»ç»Ÿç›‘æ§å’Œå‘Šè­¦å¤„ç†
```python
# å¤„ç†CPUä½¿ç”¨ç‡å‘Šè­¦
cpu_alert = AlertInfo(
    alert_id="cpu_high_001",
    severity="high",
    message="CPU usage exceeding threshold",
    metrics={"cpu_usage": 0.95}
)

result = await agent.process_alert(cpu_alert)
```

### 2. æ•…éšœè¯Šæ–­å’Œæ ¹å› åˆ†æ
```python
# åŸºäºç—‡çŠ¶è¿›è¡Œè¯Šæ–­
symptoms = [
    "API response time increased",
    "Database connection timeouts",
    "Memory usage gradually increasing"
]

diagnosis = await agent.diagnose_issue(symptoms, context)
```

### 3. è‡ªåŠ¨åŒ–è¡ŒåŠ¨è§„åˆ’
```python
# ç”Ÿæˆä¿®å¤è®¡åˆ’
action_plan = await agent.plan_actions(diagnostic_result, system_context)
```

### 4. å¤šæ™ºèƒ½ä½“åä½œ
```python
# åˆ›å»ºä¸“ä¸šåŒ–æ™ºèƒ½ä½“
network_agent = IntelligentOpsAgent(AgentConfig(
    agent_id="network_specialist",
    agent_type="network",
    specialization="network_diagnostics"
))

security_agent = IntelligentOpsAgent(AgentConfig(
    agent_id="security_specialist", 
    agent_type="security",
    specialization="security_response"
))
```

## ğŸ¯ è¿è¡Œç¤ºä¾‹

### åŸºç¡€åŠŸèƒ½æ¼”ç¤º
```bash
python examples/basic_usage.py
```

### å¤šæ™ºèƒ½ä½“åä½œæ¼”ç¤º
```bash
python examples/multi_agent_scenario.py
```

### å®Œæ•´åŠŸèƒ½æ¼”ç¤º
```bash
python examples/complete_demo.py
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
python -m pytest tests/unit/

# è¿è¡Œé›†æˆæµ‹è¯•
python -m pytest tests/integration/

# ä»£ç æ ¼å¼æ£€æŸ¥
python -m black .
python -m isort .
python -m flake8 .
```

## ğŸ”§ é…ç½®

### ç¯å¢ƒå˜é‡
```bash
# DSPy é…ç½®
export DSPY_LANGUAGE_MODEL="your-llm-provider"
export DSPY_API_KEY="your-api-key"

# LangGraph é…ç½®
export LANGGRAPH_CONFIG_PATH="path/to/config.yaml"

# æ—¥å¿—é…ç½®
export LOG_LEVEL="INFO"
export LOG_FORMAT="json"
```

### é…ç½®æ–‡ä»¶ç¤ºä¾‹
```bash
# .env é…ç½®æ–‡ä»¶
# DeepSeek LLM é…ç½®ï¼ˆæ¨è - æˆæœ¬ä½ï¼Œä¸­æ–‡å‹å¥½ï¼‰
DEEPSEEK_API_KEY="your-deepseek-api-key-here"
LLM_PROVIDER="deepseek"
LLM_MODEL_NAME="deepseek-chat"
LLM_BASE_URL="https://api.deepseek.com/v1"
LLM_TEMPERATURE="0.1"
LLM_MAX_TOKENS="2000"

# LangGraph é…ç½®
LANGGRAPH_MAX_ITERATIONS="100"
LANGGRAPH_TIMEOUT="300"
LANGGRAPH_ENABLE_CHECKPOINTS="true"

# æ™ºèƒ½ä½“é…ç½®
AGENT_ENABLE_LEARNING="true"
AGENT_ENABLE_REPORTING="true"
AGENT_AUTO_EXECUTION="false"
AGENT_MAX_RETRIES="3"
```

### DeepSeek å¿«é€Ÿé…ç½®æŒ‡å—
1. **è·å– API Key**: è®¿é—® [DeepSeek å®˜ç½‘](https://www.deepseek.com/) æ³¨å†Œå¹¶è·å– API Key
2. **é…ç½®ç¯å¢ƒ**: å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶å¡«å…¥æ‚¨çš„ API Key
3. **æµ‹è¯•è¿æ¥**: è¿è¡Œ `python examples/deepseek_test.py` éªŒè¯é…ç½®

è¯¦ç»†çš„ DeepSeek é›†æˆè¯´æ˜è¯·å‚è€ƒ [DeepSeek é›†æˆæŒ‡å—](docs/deepseek_integration.md)ã€‚

## ğŸ“ˆ æ€§èƒ½ç›‘æ§

### æŒ‡æ ‡æ”¶é›†
- æ™ºèƒ½ä½“å“åº”æ—¶é—´
- è¯Šæ–­å‡†ç¡®ç‡
- è‡ªåŠ¨åŒ–æˆåŠŸç‡
- ç”¨æˆ·æ»¡æ„åº¦

### ç›‘æ§ä»ªè¡¨æ¿
- å®æ—¶å·¥ä½œæµçŠ¶æ€
- æ€§èƒ½è¶‹åŠ¿åˆ†æ
- é”™è¯¯ç‡ç»Ÿè®¡
- èµ„æºä½¿ç”¨æƒ…å†µ

## ğŸ”’ å®‰å…¨è€ƒè™‘

### è®¿é—®æ§åˆ¶
- åŸºäºè§’è‰²çš„æƒé™ç®¡ç†
- API å¯†é’¥è®¤è¯
- æ“ä½œå®¡è®¡æ—¥å¿—

### æ•°æ®ä¿æŠ¤
- æ•æ„Ÿä¿¡æ¯è„±æ•
- åŠ å¯†å­˜å‚¨
- å®‰å…¨ä¼ è¾“

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [LangGraph](https://github.com/langchain-ai/langgraph) - å·¥ä½œæµç¼–æ’æ¡†æ¶
- [DSPy](https://github.com/stanfordnlp/dspy) - æ¨¡å—åŒ–æ¨ç†æ¡†æ¶
- [LangChain](https://github.com/langchain-ai/langchain) - åŸºç¡€æ¡†æ¶æ”¯æŒ

## ğŸ“ è”ç³»æˆ‘ä»¬

- é¡¹ç›®ä¸»é¡µ: [GitHub Repository]
- é—®é¢˜åé¦ˆ: [GitHub Issues]
- æ–‡æ¡£: [Documentation Site]

---

**æ™ºèƒ½è¿ç»´æ™ºèƒ½ä½“** - è®©è¿ç»´æ›´æ™ºèƒ½ï¼Œè®©ç³»ç»Ÿæ›´å¯é ï¼ ğŸš€